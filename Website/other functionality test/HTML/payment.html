<!--This template is going to be exact same as base.html-->
<!--And we can override every block that were defined inside base.html-->
{% extends "base.html"%}
<!--If we rename this block called "Home" we should see changes in result-->
<!--Easy way to rename stuff-->
{% block title %}Payment{% endblock %}

{% block content %}

<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/payment.css') }}">


<form id="form">
  <label for="name">Name:</label>
  <input type="text" id="name" name="name"><br><br>

  <label for="email">Email:</label>
  <input type="email" id="email" name="email"><br><br>

  <label for="message">Message:</label>
  <textarea id="message" name="message"></textarea><br><br>

  <input type="submit" value="Submit">
</form>


<script>
  document.getElementById("form").addEventListener("submit", function(event) {
    event.preventDefault();
    //form data can be accessed using this.elements property
    const name = this.elements.name.value;
    const email = this.elements.email.value;
    const message = this.elements.message.value;
  
    // Send form data to the server using fetch or XMLHttpRequest
    fetch('/send-email.php', {
      method: 'post',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: `name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&message=${encodeURIComponent(message)}`
    })
    .then(response => {
      console.log(response);
      // Clear form fields
      this.reset();
    })
    .catch(error => {
      console.error(error);
    });
  });
</script>



{% endblock %}

